<h1 class="titulo">Cadastro de Item</h1>

<mat-divider></mat-divider>
<div class="form-container">
  <form [formGroup]="itemsForm">

    <div class="form-row">
      <mat-form-field class="form-field">
        <mat-label>Código do Item</mat-label>
        <input matInput formControlName="numberCode" placeholder="Código do Item">
        <mat-error *ngIf="itemsForm.get('numberCode')?.hasError('required')">
          Código do Item é obrigatório!
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>Nome</mat-label>
        <input matInput formControlName="name" placeholder="Nome" required>
        <mat-error *ngIf="itemsForm.get('name')?.hasError('required')">
          Nome é obrigatório!
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field class="form-field">
        <mat-label>Coletor</mat-label>
        <input matInput formControlName="collector" placeholder="Coletor" required>
        <mat-error *ngIf="itemsForm.get('collector')?.hasError('required')">
          Coletor é obrigatório!
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>Ano de Coleta</mat-label>
        <input matInput formControlName="colleactionYear" placeholder="Ano de Coleta" required>
        <mat-error *ngIf="itemsForm.get('colleactionYear')?.hasError('required')">
          Ano de Coleta é obrigatório!
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field class="form-field">
        <mat-label>Coleção</mat-label>
        <input matInput formControlName="collection" placeholder="Coleção" required>
        <mat-error *ngIf="itemsForm.get('collection')?.hasError('required')">
          Coleção é obrigatória!
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>Proveniência</mat-label>
        <input matInput formControlName="provenance" placeholder="Proveniência" required>
        <mat-error *ngIf="itemsForm.get('provenance')?.hasError('required')">
          Proveniência é obrigatória!
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field class="form-field">
        <mat-label>Localização</mat-label>
        <input matInput formControlName="location" placeholder="Localização" required>
        <mat-error *ngIf="itemsForm.get('location')?.hasError('required')">
          Localização é obrigatória!
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>Período</mat-label>
        <input matInput formControlName="period" placeholder="Período" required>
        <mat-error *ngIf="itemsForm.get('period')?.hasError('required')">
          Período é obrigatório!
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <mat-form-field class="form-field">
        <mat-label>Data de Registro</mat-label>
        <input matInput formControlName="registerDate" placeholder="Data de Registro" required>
        <mat-error *ngIf="itemsForm.get('registerDate')?.hasError('required')">
          Data de Registro é obrigatória!
        </mat-error>
      </mat-form-field>

      <mat-form-field class="form-field">
        <mat-label>Data de Patrimônio</mat-label>
        <input matInput formControlName="heritageDate" placeholder="Data de Patrimônio" required>
        <mat-error *ngIf="itemsForm.get('heritageDate')?.hasError('required')">
          Data de Patrimônio é obrigatória!
        </mat-error>
      </mat-form-field>
    </div>

    <div class="form-row">
      <label>Imagem do Item</label>
      <input type="file" (change)="onFileSelected($event)" accept="image/*">
    </div>

    <div mat-dialog-actions align="end">
      <button mat-button mat-dialog-close>Fechar</button>
      <button mat-button color="primary" type="submit" (click)="onSubmit()">
        {{ data ? 'Editar' : 'Cadastrar' }}
      </button>
    </div>

  </form>
</div>
